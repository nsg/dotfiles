---

- name: Install packages
  hosts: all
  tasks:

    - include: install/docker.yml
    - include: install/openafs.yml
      when: ansible_distribution_release == "freya" and ansible_hostname != 'dagmor'
    - include: install/github-hub.yml
    - include: install/spotify.yml

    - name: Install misc software
      apt: name={{ item }} state=present
      with_items:
      - vim
      - mercurial
      - git
      - terminator
      - chromium-browser
      - virtualbox
      - curl
      - sshpass
      - pandoc
      - meld
      - firefox
      - ctags
      - silversearcher-ag

    - include: install/deb-install.yml
      vars:
        deb:
          name: vagrant_1.8.1_x86_64.deb
          url: "https://releases.hashicorp.com/vagrant/1.8.1/vagrant_1.8.1_x86_64.deb"
          sha256sum: ed0e1ae0f35aecd47e0b3dfb486a230984a08ceda3b371486add4d42714a693d

- name: "Configure dotfiles (with your user)"
  hosts: all
  sudo: no
  user: "{{ ansible_env.USER }}"
  tasks:
    - include: configure/dotfiles.yml
    - include: configure/vim_plugins.yml
    - include: configure/vimperator.yml

- name: "Install scripts (with your user)"
  hosts: all
  sudo: no
  user: "{{ ansible_env.USER }}"
  tasks:
    - include: scripts/scripts.yml
